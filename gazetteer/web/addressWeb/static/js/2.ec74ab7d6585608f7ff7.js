webpackJsonp([2],{B3IN:function(t,e){},KaMH:function(t,e){},Mm1Y:function(t,e,s){"use strict";var i={name:"smallSpin",data:function(){return{}},components:{},computed:{},props:{msg:{type:[String]}},created:function(){},mounted:function(){},methods:{},beforedestroy:function(){},watch:{}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spin-icon-load"},[e("Spin",{attrs:{fix:""}},[e("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),this._v(" "),this.msg?e("div",[this._v(this._s(this.msg))]):this._e()],1)],1)},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("lPGJ")},"data-v-3c08583e",null);e.a=n.exports},WPs3:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"editBox",data:function(){return{needUser:!1,needSpin:!1,page:1,curStreet:"",allStreets:EDITSELECTORCFG.street,curCommunity:"",allCommunity:[],showList:!1,listArr:[],listCount:0,curEditIndex:-1,showEditModal:!1,editVisible:!1,editObj:[{label:"统一社会信用代码",val:"code",disabled:!0,necessary:!1,type:"text"},{label:"企业名称",val:"name",disabled:!0,necessary:!1,type:"text"},{label:"街道",val:"street",disabled:!0,necessary:!1,type:"text"},{label:"社区",val:"community",disabled:!0,necessary:!1,type:"text"},{label:"原地址",val:"originAddress",disabled:!0,necessary:!1,type:"textarea"}],editValue:{code:"",name:"",street:"",community:"",originAddress:""},matchResult:[],curSelAddress:{}}},components:{SmallSpin:s("Mm1Y").a},computed:{},props:{},created:function(){},mounted:function(){},methods:{pageChanged:function(t,e){e=e||{needSelFirst:!0};this.page=t,this.getAddressByCommunity(!1,e)},onSelStreet:function(){var t=this.curStreet,e=this;if(t){var s=URLCFG.getCommunityByStreetUrl;e.$api.getMsg(s,{tablename:t}).then(function(t){e.allCommunity=t.rows,e.curCommunity=t.rows[0].community,e.getAddressByCommunity(!0,{needSelFirst:!0})})}},onSelCommunity:function(){this.curCommunity&&this.getAddressByCommunity(!0,{needSelFirst:!0})},getAddressByCommunity:function(t,e){var s=this;if(e=e||{},s.curEditIndex=-1,s.showList=!1,s.needSpin=!0,t=void 0==t||t){var i=URLCFG.getCountByCommunityUrl;s.$api.getMsg(i,{tablename:s.curCommunity}).then(function(t){s.listCount=t.total}),s.page=1}s.$api.getAddressByCommunity(s.page,s.curCommunity).then(function(t){s.needSpin=!1,s.listArr=t.rows,s.showList=!0,e.needSelFirst?s.toggleEditModal(t.rows[0].fid,0):e.needSelLast&&s.toggleEditModal(t.rows[9].fid,9)})},toggleEditModal:function(t,e){var s=this;s.curSelAddress={},s.$api.getEditMsg(t,s.curCommunity).then(function(t){s.editValue={code:t.rows[0].code,name:t.rows[0].name,street:t.rows[0].street,community:s.curCommunity,originAddress:t.rows[0].address},s.showEditModal=!0,s.curEditIndex=e;var i=t.rows[0].address;s.$api.getMatchList(i).then(function(t){t.rows&&t.rows.length>0?(s.matchResult=t.rows,s.curSelAddress=t.rows[0]):(s.matchResult=[],s.curSelAddress={})})})},backRecord:function(){if(this.curEditIndex>0){var t=this.curEditIndex-1,e=this.listArr[t].fid;this.toggleEditModal(e,t)}else this.page>1&&(this.pageChanged(this.page-1,{needSelLast:!0}),this.curEditIndex=9)},nextRecord:function(){var t=Math.ceil(this.listCount/10);if(this.page<t)if(this.curEditIndex<9){var e=this.curEditIndex+1,s=this.listArr[e].fid;this.toggleEditModal(s,e)}else this.pageChanged(this.page+1,{needSelFirst:!0}),this.curEditIndex=0;else if(this.listCount%10==0&&this.curEditIndex<9||this.curEditIndex<this.listCount%10-1){e=this.curEditIndex+1,s=this.listArr[e].fid;this.toggleEditModal(s,e)}},submitEdit:function(){for(var t=this,e=this.editObj,s=0;s<e.length;s++);setTimeout(function(){t.editVisible=!1},1e3)}},beforedestroy:function(){},watch:{}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"listView"},[i("div",{staticClass:"selector flex_row"},[i("div",{staticClass:"block flex_row"},[i("span",{staticClass:"label"},[t._v("街道：")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.curStreet,expression:"curStreet"}],staticClass:"select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.curStreet=e.target.multiple?s:s[0]},t.onSelStreet]}},t._l(t.allStreets,function(e){return i("option",[t._v("\n            "+t._s(e)+"\n          ")])}),0)]),t._v(" "),i("div",{staticClass:"block flex_row"},[i("span",{staticClass:"label"},[t._v("社区：")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.curCommunity,expression:"curCommunity"}],staticClass:"select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.curCommunity=e.target.multiple?s:s[0]},t.onSelCommunity]}},t._l(t.allCommunity,function(e){return i("option",[t._v("\n            "+t._s(e.community)+"\n          ")])}),0)]),t._v(" "),i("div",{staticClass:"flex_row toggle"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],on:{click:function(e){t.showList=!t.showList}}},[t._v("▲")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.showList,expression:"!showList"}],on:{click:function(e){t.showList=!t.showList}}},[t._v("▼")])])]),t._v(" "),t.needSpin?i("small-spin",{attrs:{msg:"正在加载……"}}):t._e(),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"siteList"},[t._l(t.listArr,function(e,a){return i("li",{staticClass:"flex_row",class:{sel:t.curEditIndex==a},on:{click:function(s){return t.toggleEditModal(e.fid,a)}}},[i("span",[t._v(t._s(e.address))]),t._v(" "),i("img",{staticClass:"imgItem",attrs:{src:s("wlOp")}})])}),t._v(" "),i("Page",{attrs:{current:t.page,total:t.listCount,"show-total":"",size:"small","class-name":"pageClass"},on:{"on-change":t.pageChanged}})],2)],1),t._v(" "),i("Modal",{attrs:{title:"地址编辑",mask:!1,styles:{width:"320px",position:"absolute",top:"75px",right:"20px",maxHeight:"80%"},scrollable:"",visible:t.editVisible},model:{value:t.showEditModal,callback:function(e){t.showEditModal=e},expression:"showEditModal"}},[t._l(t.editObj,function(e,s){return i("div",{staticClass:"editLine flex_row",class:{autoHeightWrap:"textarea"==e.type}},[i("div",{staticClass:"label flex_row"},[i("span",{domProps:{innerHTML:t._s(e.label)}})]),t._v(" "),"text"==e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.editValue[e.val],expression:"editValue[val.val]"}],class:e.disabled?"text":"text canEdit",attrs:{type:"text",title:t.editValue[e.val],disabled:e.disabled},domProps:{value:t.editValue[e.val]},on:{input:function(s){s.target.composing||t.$set(t.editValue,e.val,s.target.value)}}}):t._e(),t._v(" "),"textarea"==e.type?i("div",{staticClass:"autoHeight"},[t._v("\n        "+t._s(t.editValue[e.val])+"\n      ")]):t._e()])}),t._v(" "),i("div",{staticClass:"editLine flex_row  autoHeightWrap"},[i("div",{staticClass:"label flex_row"},[i("span",[t._v("相似标准地址")])]),t._v(" "),i("div",{staticClass:"selectWrapper autoHeight"},[i("Select",{staticClass:"select",attrs:{placeholder:"无匹配数据"},model:{value:t.curSelAddress.address,callback:function(e){t.$set(t.curSelAddress,"address",e)},expression:"curSelAddress.address"}},t._l(t.matchResult,function(e,s){return i("Option",{key:s,attrs:{value:e.address,label:e.address}},[i("span",[t._v(t._s(e.address))]),t._v(" "),i("Progress",{staticClass:"similar_row",attrs:{"stroke-width":7,title:"相似度",percent:100*e.similarity}})],1)}),1)],1)]),t._v(" "),i("div",{staticClass:"editLine flex_row autoHeightWrap"},[i("div",{staticClass:"label flex_row"},[i("span",[t._v("标准地址")])]),t._v(" "),t.curSelAddress.address?i("div",{staticClass:"autoHeight flex_row"},[i("span",[t._v(t._s(t.curSelAddress.address))]),t._v(" "),i("Progress",{staticClass:"similar",attrs:{vertical:"","stroke-width":7,title:"相似度",percent:100*t.curSelAddress.similarity}})],1):t._e(),t._v(" "),t.curSelAddress.address?t._e():i("div",{staticClass:"autoHeight flex_row"},[t._v("无匹配数据")])]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{size:"small",disabled:1==t.page&&0==t.curEditIndex},on:{click:t.backRecord}},[i("Icon",{attrs:{type:"ios-arrow-back"}})],1),t._v(" "),i("Button",[t._v("取消")]),t._v(" "),i("Button",{attrs:{type:"primary"},on:{click:t.submitEdit}},[t._v("保存")]),t._v(" "),i("Button",{attrs:{size:"small",disabled:(t.curEditIndex==t.listCount%10-1||9==t.curEditIndex)&&t.page==Math.ceil(t.listCount/10)},on:{click:t.nextRecord}},[i("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1)],2)],1)},staticRenderFns:[]};var n={name:"home",components:{editBox:s("VU/8")(i,a,!1,function(t){s("KaMH")},"data-v-5d1a319c",null).exports},created:function(){},data:function(){return{}},methods:{}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"editWrapper"},[e("edit-box",{staticClass:"leftView"})],1)},staticRenderFns:[]};var o=s("VU/8")(n,r,!1,function(t){s("B3IN")},"data-v-46c52f10",null);e.default=o.exports},lPGJ:function(t,e){},wlOp:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=2.ec74ab7d6585608f7ff7.js.map