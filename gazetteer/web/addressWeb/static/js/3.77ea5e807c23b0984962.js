webpackJsonp([3],{"H/vg":function(t,e){},Jnd1:function(t,e){},NiFe:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"loading"},[e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span")]),this._v(" "),e("div",{staticStyle:{"margin-top":"20px"}},[this._v("转换中……")])])}]};var r={name:"batchHandle",components:{loading:s("VU/8")({name:"loading",data:function(){return{}},components:{},computed:{},props:{},created:function(){},mounted:function(){},methods:{},beforedestroy:function(){},watch:{}},a,!1,function(t){s("H/vg")},"data-v-be9b1e3e",null).exports},created:function(){},data:function(){return{showLoading:!1,excelUrl:encodeURI(BATCHSERVICE.modelUrl),columns:[{title:"",type:"index",width:70,align:"center"},{title:"地址",key:"address",className:"header"},{title:"经度",key:"longitude",className:"header"},{title:"纬度",key:"latitude",className:"header"}],tableData:[],upLoadUrl:BATCHSERVICE.uploadUrl,progressNum:0}},methods:{exportData:function(){this.$refs.table.exportCsv({filename:"批量转换结果"})},beforeUpload:function(t){var e=t.name.split(".");if("xls"!=e[e.length-1]&&"xlsx"!=e[e.length-1])return this.$Modal.warning({title:"上传文件后缀应为.xls或.xlsx!",width:320}),!1;this.showLoading=!0,this.$refs.upload.clearFiles()},onUpSuccess:function(t,e,s){this.$Message.success(s[0].name+"转换成功!"),this.tableData=t.rows,this.progressNum=100,this.showLoading=!1},onUpError:function(t,e,s){this.showLoading=!1,this.$Message.error(s.name+"转换失败，请重试！")}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Wrapper"},[s("h1",{staticClass:"title"},[t._v("批量地址匹配服务")]),t._v(" "),s("div",{staticClass:"topTool flex_row"},[s("div",{staticClass:"btnBox flex_row"},[s("a",{staticClass:"item",attrs:{href:t.excelUrl}},[s("Button",{attrs:{icon:"md-download",type:"primary"}},[t._v("下载模板")])],1),t._v(" "),s("Upload",{ref:"upload",staticClass:"flex_row",attrs:{action:t.upLoadUrl,name:"fileName",accept:"file",format:["xls","xlsx"],"before-upload":t.beforeUpload,"on-success":t.onUpSuccess,"on-error":t.onUpError}},[s("Button",{staticClass:"item",attrs:{icon:"md-arrow-round-up",type:"primary"}},[t._v("导入")])],1)],1),t._v(" "),t.progressNum?s("div",{staticClass:"right flex_row"},[s("div",{staticClass:"label"},[t._v("匹配进度：")]),t._v(" "),s("Progress",{attrs:{percent:t.progressNum,status:"active"}}),t._v(" "),s("div",{staticClass:"item"},[s("Button",{attrs:{icon:"ios-redo",type:"primary"},on:{click:t.exportData}},[t._v("导出")])],1)],1):t._e()]),t._v(" "),s("Table",{ref:"table",attrs:{columns:t.columns,data:t.tableData,stripe:"",border:"","max-height":"80%"},scopedSlots:t._u([{key:"fuzzy",fn:function(t){var e=t.row;return[s("Progress",{attrs:{percent:e.fuzzy,status:"active"}})]}}])}),t._v(" "),t.showLoading?s("Spin",{staticStyle:{background:"rgba(255,255,255,.5)"},attrs:{fix:""}},[s("loading")],1):t._e()],1)},staticRenderFns:[]};var o=s("VU/8")(r,n,!1,function(t){s("Jnd1")},"data-v-d6dab16e",null);e.default=o.exports}});
//# sourceMappingURL=3.77ea5e807c23b0984962.js.map