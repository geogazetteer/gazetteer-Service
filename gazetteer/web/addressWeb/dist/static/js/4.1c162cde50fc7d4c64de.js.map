{"version":3,"sources":["webpack:///src/views/batchHandle.vue","webpack:///./src/views/batchHandle.vue?ab14","webpack:///./src/views/batchHandle.vue"],"names":["batchHandle","name","components","created","data","showLoading","excelUrl","encodeURI","BATCHSERVICE","columns","title","width","type","key","align","className","uid","address","lng","lat","upLoadUrl","progressNum","methods","exportData","this","$refs","table","exportCsv","filename","beforeUpload","file","nameArr","split","length","$Modal","warning","upload","clearFiles","onUpSuccess","response","fileList","$Message","success","onUpError","error","views_batchHandle","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","href","icon","ref","action","accept","format","before-upload","on-success","on-error","percent","status","on","click","stripe","border","max-height","scopedSlots","_u","fn","row","fuzzy","fix","size","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.1c162cde50fc7d4c64de.js","sourcesContent":["\r\n<!--批量处理页-->\r\n<template>\r\n  <div class=\"Wrapper\">\r\n    <h1 class=\"title\">批量地址匹配服务</h1>\r\n    <div class=\"topTool flex_row\">\r\n      <div class=\"btnBox flex_row\">\r\n        <a :href=\"excelUrl\" class=\"item\">\r\n          <Button icon=\"md-download\" type=\"primary\" >下载模板</Button>\r\n        </a>\r\n\r\n\r\n        <Upload :action=\"upLoadUrl\" class=\"flex_row\" ref=\"upload\"\r\n                name=\"fileName\"\r\n                accept=\"file\"\r\n                :format=\"['xls','xlsx']\"\r\n                :before-upload=\"beforeUpload\"\r\n                :on-success=\"onUpSuccess\"\r\n                :on-error=\"onUpError\"\r\n        >\r\n          <Button  class=\"item\" icon=\"md-arrow-round-up\" type=\"primary\">导入</Button>\r\n\r\n        </Upload>\r\n\r\n      </div>\r\n\r\n      <div class=\"right flex_row\">\r\n        <div class=\"label\">匹配进度：</div>\r\n        <Progress :percent=\"progressNum\" status=\"active\"/><!--进度条-->\r\n        <div class=\"item\">\r\n          <Button icon=\"ios-redo\" type=\"primary\" @click=\"exportData\">导出</Button>\r\n        </div>\r\n        <!--<Icon type=\"md-refresh-circle\" color=\"#3385ff\" size=\"32\" class=\"refresh\" title=\"刷新\"/>&lt;!&ndash;刷新&ndash;&gt;-->\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n\r\n    <Table ref=\"table\"\r\n      :columns=\"columns\" :data=\"data\"\r\n      stripe border max-height=\"80%\"\r\n    >\r\n\r\n      <template slot-scope=\"{ row }\" slot=\"fuzzy\">\r\n        <Progress :percent=\"row.fuzzy\" status=\"active\"/><!--相似度-->\r\n      </template>\r\n    </Table>\r\n\r\n\r\n    <Spin fix v-if=\"showLoading\">\r\n      <Icon type=\"ios-loading\" size=18 class=\"demo-spin-icon-load\"></Icon>\r\n      <div>上传中……</div>\r\n    </Spin>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'batchHandle',\r\n  components: {\r\n  },\r\n  created(){\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      showLoading:false,\r\n      excelUrl:encodeURI(BATCHSERVICE['modelUrl']),//批量下载excel模板\r\n      columns: [\r\n        {\r\n          title:' ',\r\n          width:50,\r\n          type: 'selection'\r\n        },\r\n        {\r\n          title: '序号',\r\n          key: 'uid',\r\n\t\t      width:70,\r\n          align:'center'\r\n        },\r\n        {\r\n          title: '地址',\r\n          key: 'address',\r\n\t\t  className:'header'\r\n        },\r\n        {\r\n          title: '经度',\r\n          key: 'lng',\r\n          className:'header'\r\n        },\r\n        {\r\n          title: '纬度',\r\n          key: 'lat',\r\n\t\t  className:'header'\r\n        }\r\n      ],\r\n      data: [\r\n        {\r\n          uid:1,\r\n          address: '深圳市龙华区地名地址服务',\r\n          lng:'114.30',\r\n          lat:'30.52',\r\n        },\r\n      ],\r\n\r\n      upLoadUrl:BATCHSERVICE['uploadUrl'],//上传url\r\n      progressNum:100,//进度条\r\n    }\r\n  },\r\n  methods:{\r\n    exportData(){\r\n      this.$refs.table.exportCsv({\r\n        filename: ''\r\n      });\r\n    },\r\n\r\n    //导入前\r\n    beforeUpload(file){\r\n      var $this = this;\r\n\r\n      var nameArr=file.name.split('.');\r\n      if(nameArr[nameArr.length-1]=='xls'||nameArr[nameArr.length-1]=='xlsx'){\r\n        //判断上传文件的类型是excel后缀\r\n        $this.showLoading=true\r\n        //清空上传列表\r\n        $this.$refs.upload.clearFiles();\r\n      }else{\r\n        $this.$Modal.warning({\r\n          title: '上传文件后缀应为.xls或.xlsx!',\r\n          width:320\r\n        });\r\n        return false\r\n      }\r\n\r\n    },\r\n    //导入成功\r\n    onUpSuccess(response, file, fileList) {\r\n      this.showLoading=false;\r\n      this.$Message.success(fileList[0].name+'上传成功!');\r\n\r\n    },\r\n    //导入失败\r\n    onUpError(error, file, fileList){\r\n      this.showLoading=false;\r\n      this.$Message.error( fileList[0].name+'上传失败，请重试！');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.Wrapper{\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  border: 2px solid #3385ff;\r\n  background: #F6EBDD;\r\n  padding: 0 4%;\r\n\r\n}\r\n  .title{\r\n    margin-bottom: 20px;\r\n    text-align: center;\r\n    margin-top: 50px;\r\n  }\r\n\r\n.topTool{\r\n  margin-bottom: 20px;\r\n}\r\n  .topTool .btnBox{\r\n    flex-grow: 3;\r\n    justify-content: flex-start;\r\n  }\r\n.topTool .btnBox .item{\r\n  margin-right: 5px;\r\n}\r\n  .topTool .right{\r\n    flex-grow: 1;\r\n  }\r\n.topTool .right .label\r\n{\r\n  flex-shrink: 0;\r\n}\r\n  .refresh{\r\n    cursor: pointer;\r\n  }\r\n\r\n.demo-spin-icon-load{\r\n  animation: ani-demo-spin 1s linear infinite;\r\n}\r\n@keyframes ani-demo-spin {\r\n  from { transform: rotate(0deg);}\r\n  50%  { transform: rotate(180deg);}\r\n  to   { transform: rotate(360deg);}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/batchHandle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Wrapper\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"批量地址匹配服务\")]),_vm._v(\" \"),_c('div',{staticClass:\"topTool flex_row\"},[_c('div',{staticClass:\"btnBox flex_row\"},[_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.excelUrl}},[_c('Button',{attrs:{\"icon\":\"md-download\",\"type\":\"primary\"}},[_vm._v(\"下载模板\")])],1),_vm._v(\" \"),_c('Upload',{ref:\"upload\",staticClass:\"flex_row\",attrs:{\"action\":_vm.upLoadUrl,\"name\":\"fileName\",\"accept\":\"file\",\"format\":['xls','xlsx'],\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.onUpSuccess,\"on-error\":_vm.onUpError}},[_c('Button',{staticClass:\"item\",attrs:{\"icon\":\"md-arrow-round-up\",\"type\":\"primary\"}},[_vm._v(\"导入\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"right flex_row\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"匹配进度：\")]),_vm._v(\" \"),_c('Progress',{attrs:{\"percent\":_vm.progressNum,\"status\":\"active\"}}),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('Button',{attrs:{\"icon\":\"ios-redo\",\"type\":\"primary\"},on:{\"click\":_vm.exportData}},[_vm._v(\"导出\")])],1)],1)]),_vm._v(\" \"),_c('Table',{ref:\"table\",attrs:{\"columns\":_vm.columns,\"data\":_vm.data,\"stripe\":\"\",\"border\":\"\",\"max-height\":\"80%\"},scopedSlots:_vm._u([{key:\"fuzzy\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Progress',{attrs:{\"percent\":row.fuzzy,\"status\":\"active\"}})]}}])}),_vm._v(\" \"),(_vm.showLoading)?_c('Spin',{attrs:{\"fix\":\"\"}},[_c('Icon',{staticClass:\"demo-spin-icon-load\",attrs:{\"type\":\"ios-loading\",\"size\":\"18\"}}),_vm._v(\" \"),_c('div',[_vm._v(\"上传中……\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ae546d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/batchHandle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ae546d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./batchHandle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./batchHandle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./batchHandle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ae546d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./batchHandle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6ae546d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/batchHandle.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}