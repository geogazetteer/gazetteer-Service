webpackJsonp([4],{Jnd1:function(t,e){},NiFe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"batchHandle",components:{loading:a("KgXo").a},created:function(){},data:function(){return{showLoading:!1,excelUrl:encodeURI(BATCHSERVICE.modelUrl),columns:[{title:"",type:"index",width:70,align:"center"},{title:"地址",key:"address",className:"header"},{title:"经度",key:"longitude",className:"header"},{title:"纬度",key:"latitude",className:"header"}],tableData:[],upLoadUrl:BATCHSERVICE.uploadUrl,progressNum:0}},methods:{exportData:function(){this.$refs.table.exportCsv({filename:"批量转换结果"})},beforeUpload:function(t){var e=t.name.split(".");if("xls"!=e[e.length-1]&&"xlsx"!=e[e.length-1])return this.$Modal.warning({title:"上传文件后缀应为.xls或.xlsx!",width:320}),!1;this.showLoading=!0,this.$refs.upload.clearFiles()},onUpSuccess:function(t,e,a){this.$Message.success(a[0].name+"转换成功!"),this.tableData=t.rows,this.progressNum=100,this.showLoading=!1},onUpError:function(t,e,a){this.showLoading=!1,this.$Message.error(a.name+"转换失败，请重试！")}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Wrapper"},[a("h1",{staticClass:"title"},[t._v("批量地址匹配服务")]),t._v(" "),a("div",{staticClass:"topTool flex_row"},[a("div",{staticClass:"btnBox flex_row"},[a("a",{staticClass:"item",attrs:{href:t.excelUrl}},[a("Button",{attrs:{icon:"md-download",type:"primary"}},[t._v("下载模板")])],1),t._v(" "),a("Upload",{ref:"upload",staticClass:"flex_row",attrs:{action:t.upLoadUrl,name:"fileName",accept:"file",format:["xls","xlsx"],"before-upload":t.beforeUpload,"on-success":t.onUpSuccess,"on-error":t.onUpError}},[a("Button",{staticClass:"item",attrs:{icon:"md-arrow-round-up",type:"primary"}},[t._v("导入")])],1)],1),t._v(" "),t.progressNum?a("div",{staticClass:"right flex_row"},[a("div",{staticClass:"label"},[t._v("匹配进度：")]),t._v(" "),a("Progress",{attrs:{percent:t.progressNum,status:"active"}}),t._v(" "),a("div",{staticClass:"item"},[a("Button",{attrs:{icon:"ios-redo",type:"primary"},on:{click:t.exportData}},[t._v("导出")])],1)],1):t._e()]),t._v(" "),a("Table",{ref:"table",attrs:{columns:t.columns,data:t.tableData,stripe:"",border:"","max-height":"80%"},scopedSlots:t._u([{key:"fuzzy",fn:function(t){var e=t.row;return[a("Progress",{attrs:{percent:e.fuzzy,status:"active"}})]}}])}),t._v(" "),t.showLoading?a("Spin",{staticStyle:{background:"rgba(255,255,255,.5)"},attrs:{fix:""}},[a("loading")],1):t._e()],1)},staticRenderFns:[]};var o=a("VU/8")(s,r,!1,function(t){a("Jnd1")},"data-v-d6dab16e",null);e.default=o.exports}});
//# sourceMappingURL=4.b025ddd5394448da10a5.js.map